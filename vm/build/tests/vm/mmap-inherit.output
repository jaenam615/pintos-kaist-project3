Kernel command line: -q -f put mmap-inherit put sample.txt put child-inherit run mmap-inherit
0 ~ 9fc00 1
100000 ~ 13e0000 1
Pintos booting with: 
	base_mem: 0x0 ~ 0x9fc00 (Usable: 639 kB)
	ext_mem: 0x100000 ~ 0x13e0000 (Usable: 19,328 kB)
Calibrating timer...  102,400 loops/s.
hd0:0: detected 337 sector (168 kB) disk, model "QEMU HARDDISK", serial "QM00001"
hd0:1: detected 20,160 sector (9 MB) disk, model "QEMU HARDDISK", serial "QM00002"
hd1:0: detected 215 sector (107 kB) disk, model "QEMU HARDDISK", serial "QM00003"
hd1:1: detected 8,064 sector (3 MB) disk, model "QEMU HARDDISK", serial "QM00004"
Formatting file system...done.
Boot complete.
Putting 'mmap-inherit' into the file system...
Putting 'sample.txt' into the file system...
Putting 'child-inherit' into the file system...
Executing 'mmap-inherit':
(mmap-inherit) begin
(mmap-inherit) open "sample.txt"
(mmap-inherit) mmap "sample.txt"
Kernel PANIC at ../../threads/thread.c:328 in thread_current(): assertion `is_thread (t)' failed.
Call stack: 0x80042189f5 0x8004207106 0x800420b16d 0x800420af61 0x800420c03c 0x800420c104 0x800420c6ad 0x8004221f80 0x80042223d8 0x800421d821 0x8004209823 0x8004209c41 0x80042223d8 0x800421d821 0x8004209823 0x8004209c41 0x80042223d8 0x800421d821 0x8004209823 0x8004209c41 0x80042223d8 0x800421d821 0x8004209823 0x8004209c41 0x80042223d8 0x800421d821 0x8004209823 0x8004209c41 0x80042223d8 0x800421d821 0x8004209823 0x8004209c41 0x8004221e8f 0x8004222ff9 0x800421eac3 0x800421e08c 0x800421d8f6 0x400190 0x400e05 0x400e4e 0Interrupt 0x0d (#GP General Protection Exception) at rip=8004215a2f
 cr2=0000000000000008 error=               0
rax 0000800424209800 rbx 0000008004242000 rcx 00000080040b8000 rdx 00000000000003d4
rsp 0000008004242160 rbp 0000008004242170 rsi 000000000000a90f rdi 0000000000000000
rip 0000008004215a2f r8 0000008004242078  r9 000000800421be6e r10 0000000000000003
r11 0000000000000202 r12 000000800421dc5e r13 0000800424301800 r14 00008004242f1000
r15 000080042192b000 rflags 00000006
es: 0010 ds: 0010 cs: 0008 ss: 0010
Kernel PANIC recursion at ../../userprog/exception.c:104 in kill().
Interrupt 0x0d (#GP General Protection Exception) at rip=8004221311
 cr2=0000000000000008 error=               0
rax cccccccccccccccc rbx 0000000000000000 rcx 000000800422393e rdx 0000000000000013
rsp 0000008004241bd0 rbp 0000008004241be0 rsi 0000000000000148 rdi cccccccccccccccc
rip 0000008004221311 r8 00000080042239d7  r9 000000800421891a r10 0000000000000003
r11 0000000000000202 r12 000000800421dc5e r13 0000800424301800 r14 00008004242f1000
r15 000080042192b000 rflags 00000002
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=8004220df7
 cr2=0000000000000008 error=               0
rax cccccccccccccccc rbx 0000000000000000 rcx 0000008004228300 rdx 000000000000001c
rsp 00000080042419c0 rbp 00000080042419d0 rsi 000000000000000a rdi cccccccccccccccc
rip 0000008004220df7 r8 000000800421891a  r9 000000800421be6e r10 0000000000000003
r11 0000000000000202 r12 000000800421dc5e r13 0000800424301800 r14 00008004242f1000
r15 000080042192b000 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=8004220df7
 cr2=0000000000000008 error=               0
rax cccccccccccccccc rbx 0000000000000000 rcx 0000008004228300 rdx 0000000000000025
rsp 00000080042417b0 rbp 00000080042417c0 rsi 000000000000000a rdi cccccccccccccccc
rip 0000008004220df7 r8 000000800421891a  r9 000000800421be6e r10 0000000000000003
r11 0000000000000202 r12 000000800421dc5e r13 0000800424301800 r14 00008004242f1000
r15 000080042192b000 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=8004220df7
 cr2=0000000000000008 error=               0
rax cccccccccccccccc rbx 0000000000000000 rcx 0000008004228300 rdx 000000000000002e
rsp 00000080042415a0 rbp 00000080042415b0 rsi 000000000000000a rdi cccccccccccccccc
rip 0000008004220df7 r8 000000800421891a  r9 000000800421be6e r10 0000000000000003
r11 0000000000000202 r12 000000800421dc5e r13 0000800424301800 r14 00008004242f1000
r15 000080042192b000 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=8004220df7
 cr2=0000000000000008 error=               0
rax cccccccccccccccc rbx 0000000000000000 rcx 0000008004228300 rdx 0000000000000037
rsp 0000008004241390 rbp 00000080042413a0 rsi 000000000000000a rdi cccccccccccccccc
rip 0000008004220df7 r8 000000800421891a  r9 000000800421be6e r10 0000000000000003
r11 0000000000000202 r12 000000800421dc5e r13 0000800424301800 r14 00008004242f1000
r15 000080042192b000 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=8004220df7
 cr2=0000000000000008 error=               0
rax cccccccccccccccc rbx 0000000000000000 rcx 0000008004228300 rdx 0000000000000000
rsp 0000008004241180 rbp 0000008004241190 rsi 000000000000000a rdi cccccccccccccccc
rip 0000008004220df7 r8 000000800421891a  r9 000000800421be6e r10 0000000000000003
r11 0000000000000202 r12 000000800421dc5e r13 0000800424301800 r14 00008004242f1000
r15 000080042192b000 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=8004220df7
 cr2=0000000000000008 error=               0
rax cccccccccccccccc rbx 0000000000000000 rcx 0000008004228300 rdx 0000000000000009
rsp 0000008004240f70 rbp 0000008004240f80 rsi 000000000000000a rdi cccccccccccccccc
rip 0000008004220df7 r8 000000800421891a  r9 000000800421be6e r10 0000000000000003
r11 0000000000000202 r12 000000800421dc5e r13 0000800424301800 r14 00008004242f1000
r15 000080042192b000 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=8004220df7
 cr2=0000000000000008 error=               0
rax cccccccccccccccc rbx 0000000000000000 rcx 0000008004228300 rdx 0000000000000012
rsp 0000008004240d60 rbp 0000008004240d70 rsi 000000000000000a rdi cccccccccccccccc
rip 0000008004220df7 r8 000000800421891a  r9 000000800421be6e r10 0000000000000003
r11 0000000000000202 r12 000000800421dc5e r13 0000800424301800 r14 00008004242f1000
r15 000080042192b000 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=8004220df7
 cr2=0000000000000008 error=               0
rax cccccccccccccccc rbx 0000000000000000 rcx 0000008004228300 rdx 000000000000001b
rsp 0000008004240b50 rbp 0000008004240b60 rsi 000000000000000a rdi cccccccccccccccc
rip 0000008004220df7 r8 000000800421891a  r9 000000800421be6e r10 0000000000000003
r11 0000000000000202 r12 000000800421dc5e r13 0000800424301800 r14 00008004242f1000
r15 000080042192b000 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=8004220df7
 cr2=0000000000000008 error=               0
rax cccccccccccccccc rbx 0000000000000000 rcx 0000008004228300 rdx 0000000000000024
rsp 0000008004240940 rbp 0000008004240950 rsi 000000000000000a rdi cccccccccccccccc
rip 0000008004220df7 r8 000000800421891a  r9 000000800421be6e r10 0000000000000003
r11 0000000000000202 r12 000000800421dc5e r13 0000800424301800 r14 00008004242f1000
r15 000080042192b000 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=8004220df7
 cr2=0000000000000008 error=               0
rax cccccccccccccccc rbx 0000000000000000 rcx 0000008004228300 rdx 000000000000002d
rsp 0000008004240730 rbp 0000008004240740 rsi 000000000000000a rdi cccccccccccccccc
rip 0000008004220df7 r8 000000800421891a  r9 000000800421be6e r10 0000000000000003
r11 0000000000000202 r12 000000800421dc5e r13 0000800424301800 r14 00008004242f1000
r15 000080042192b000 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=8004220df7
 cr2=0000000000000008 error=               0
rax cccccccccccccccc rbx 0000000000000000 rcx 0000008004228300 rdx 0000000000000036
rsp 0000008004240520 rbp 0000008004240530 rsi 000000000000000a rdi cccccccccccccccc
rip 0000008004220df7 r8 000000800421891a  r9 000000800421be6e r10 0000000000000003
r11 0000000000000202 r12 000000800421dc5e r13 0000800424301800 r14 00008004242f1000
r15 000080042192b000 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=8004220df7
 cr2=0000000000000008 error=               0
rax cccccccccccccccc rbx 0000000000000000 rcx 0000008004228300 rdx 000000000000003f
rsp 0000008004240310 rbp 0000008004240320 rsi 000000000000000a rdi cccccccccccccccc
rip 0000008004220df7 r8 000000800421891a  r9 000000800421be6e r10 0000000000000003
r11 0000000000000202 r12 000000800421dc5e r13 0000800424301800 r14 00008004242f1000
r15 000080042192b000 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=8004220df7
 cr2=0000000000000008 error=               0
rax cccccccccccccccc rbx 0000000000000000 rcx 0000008004228300 rdx 0000000000000008
rsp 0000008004240100 rbp 0000008004240110 rsi 000000000000000a rdi cccccccccccccccc
rip 0000008004220df7 r8 000000800421891a  r9 000000800421be6e r10 0000000000000003
r11 0000000000000202 r12 000000800421dc5e r13 0000800424301800 r14 00008004242f1000
r15 000080042192b000 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=8004220df7
 cr2=0000000000000008 error=               0
rax cccccccccccccccc rbx 0000000000000000 rcx 0000008004228300 rdx 0000000000000011
rsp 000000800423fef0 rbp 000000800423ff00 rsi 000000000000000a rdi cccccccccccccccc
rip 0000008004220df7 r8 000000800421891a  r9 000000800421be6e r10 0000000000000003
r11 0000000000000202 r12 000000800421dc5e r13 0000800424301800 r14 00008004242f1000
r15 000080042192b000 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=8004220df7
 cr2=0000000000000008 error=               0
rax cccccccccccccccc rbx 0000000000000000 rcx 0000008004228300 rdx 000000000000001a
rsp 000000800423fce0 rbp 000000800423fcf0 rsi 000000000000000a rdi cccccccccccccccc
rip 0000008004220df7 r8 000000800421891a  r9 000000800421be6e r10 0000000000000003
r11 0000000000000202 r12 000000800421dc5e r13 0000800424301800 r14 00008004242f1000
r15 000080042192b000 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=8004220df7
 cr2=0000000000000008 error=               0
rax cccccccccccccccc rbx 0000000000000000 rcx 0000008004228300 rdx 0000000000000023
rsp 000000800423fad0 rbp 000000800423fae0 rsi 000000000000000a rdi cccccccccccccccc
rip 0000008004220df7 r8 000000800421891a  r9 000000800421be6e r10 0000000000000003
r11 0000000000000202 r12 000000800421dc5e r13 0000800424301800 r14 00008004242f1000
r15 000080042192b000 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=8004220df7
 cr2=0000000000000008 error=               0
rax cccccccccccccccc rbx 0000000000000000 rcx 0000008004228300 rdx 000000000000002c
rsp 000000800423f8c0 rbp 000000800423f8d0 rsi 000000000000000a rdi cccccccccccccccc
rip 0000008004220df7 r8 000000800421891a  r9 000000800421be6e r10 0000000000000003
r11 0000000000000202 r12 000000800421dc5e r13 0000800424301800 r14 00008004242f1000
r15 000080042192b000 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=8004220df7
 cr2=0000000000000008 error=               0
rax cccccccccccccccc rbx 0000000000000000 rcx 0000008004228300 rdx 0000000000000035
rsp 000000800423f6b0 rbp 000000800423f6c0 rsi 000000000000000a rdi cccccccccccccccc
rip 0000008004220df7 r8 000000800421891a  r9 000000800421be6e r10 0000000000000003
r11 0000000000000202 r12 000000800421dc5e r13 0000800424301800 r14 00008004242f1000
r15 000080042192b000 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=8004220df7
 cr2=0000000000000008 error=               0
rax cccccccccccccccc rbx 0000000000000000 rcx 0000008004228300 rdx 000000000000003e
rsp 000000800423f4a0 rbp 000000800423f4b0 rsi 000000000000000a rdi cccccccccccccccc
rip 0000008004220df7 r8 000000800421891a  r9 000000800421be6e r10 0000000000000003
r11 0000000000000202 r12 000000800421dc5e r13 0000800424301800 r14 00008004242f1000
r15 000080042192b000 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=8004220df7
 cr2=0000000000000008 error=               0
rax cccccccccccccccc rbx 0000000000000000 rcx 0000008004228300 rdx 0000000000000007
rsp 000000800423f290 rbp 000000800423f2a0 rsi 000000000000000a rdi cccccccccccccccc
rip 0000008004220df7 r8 000000800421891a  r9 000000800421be6e r10 0000000000000003
r11 0000000000000202 r12 000000800421dc5e r13 0000800424301800 r14 00008004242f1000
r15 000080042192b000 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=8004220df7
 cr2=0000000000000008 error=               0
rax cccccccccccccccc rbx 0000000000000000 rcx 0000008004228300 rdx 0000000000000010
rsp 000000800423f080 rbp 000000800423f090 rsi 000000000000000a rdi cccccccccccccccc
rip 0000008004220df7 r8 000000800421891a  r9 000000800421be6e r10 0000000000000003
r11 0000000000000202 r12 000000800421dc5e r13 0000800424301800 r14 00008004242f1000
r15 000080042192b000 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=8004220df7
 cr2=0000000000000008 error=               0
rax cccccccccccccccc rbx 0000000000000000 rcx 0000008004228300 rdx 0000000000000019
rsp 000000800423ee70 rbp 000000800423ee80 rsi 000000000000000a rdi cccccccccccccccc
rip 0000008004220df7 r8 000000800421891a  r9 000000800421be6e r10 0000000000000003
r11 0000000000000202 r12 000000800421dc5e r13 0000800424301800 r14 00008004242f1000
r15 000080042192b000 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=8004220df7
 cr2=0000000000000008 error=               0
rax cccccccccccccccc rbx 0000000000000000 rcx 0000008004228300 rdx 0000000000000022
rsp 000000800423ec60 rbp 000000800423ec70 rsi 000000000000000a rdi cccccccccccccccc
rip 0000008004220df7 r8 000000800421891a  r9 000000800421be6e r10 0000000000000003
r11 0000000000000202 r12 000000800421dc5e r13 0000800424301800 r14 00008004242f1000
r15 000080042192b000 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=8004220df7
 cr2=0000000000000008 error=               0
rax cccccccccccccccc rbx 0000000000000000 rcx 0000008004228300 rdx 000000000000002b
rsp 000000800423ea50 rbp 000000800423ea60 rsi 000000000000000a rdi cccccccccccccccc
rip 0000008004220df7 r8 000000800421891a  r9 000000800421be6e r10 0000000000000003
r11 0000000000000202 r12 000000800421dc5e r13 0000800424301800 r14 00008004242f1000
r15 000080042192b000 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=8004220df7
 cr2=0000000000000008 error=               0
rax cccccccccccccccc rbx 0000000000000000 rcx 0000008004228300 rdx 0000000000000034
rsp 000000800423e840 rbp 000000800423e850 rsi 000000000000000a rdi cccccccccccccccc
rip 0000008004220df7 r8 000000800421891a  r9 000000800421be6e r10 0000000000000003
r11 0000000000000202 r12 000000800421dc5e r13 0000800424301800 r14 00008004242f1000
r15 000080042192b000 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=8004220df7
 cr2=0000000000000008 error=               0
rax cccccccccccccccc rbx 0000000000000000 rcx 0000008004228300 rdx 000000000000003d
rsp 000000800423e630 rbp 000000800423e640 rsi 000000000000000a rdi cccccccccccccccc
rip 0000008004220df7 r8 000000800421891a  r9 000000800421be6e r10 0000000000000003
r11 0000000000000202 r12 000000800421dc5e r13 0000800424301800 r14 00008004242f1000
r15 000080042192b000 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=8004220df7
 cr2=0000000000000008 error=               0
rax cccccccccccccccc rbx 0000000000000000 rcx 0000008004228300 rdx 0000000000000006
rsp 000000800423e420 rbp 000000800423e430 rsi 000000000000000a rdi cccccccccccccccc
rip 0000008004220df7 r8 000000800421891a  r9 000000800421be6e r10 0000000000000003
r11 0000000000000202 r12 000000800421dc5e r13 0000800424301800 r14 00008004242f1000
r15 000080042192b000 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
